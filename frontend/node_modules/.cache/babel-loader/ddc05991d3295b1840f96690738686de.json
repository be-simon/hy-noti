{"ast":null,"code":"var _jsxFileName = \"/Users/jeongjaeyong/Desktop/hy-noti/frontend/src/components/boardRow/boardRow.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport styles from './boardRow.module.css';\nimport ReactHtmlParser, { convertNodeToElement } from 'react-html-parser';\nimport { useMediaQuery } from 'react-responsive';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardRow = ({\n  info,\n  isToggled,\n  onToggle\n}) => {\n  _s();\n\n  const toggledRow = useRef(null);\n  const {\n    _id,\n    title,\n    writer,\n    date,\n    content,\n    file: fileLink\n  } = info;\n  const fileName = fileLink.split('/').pop();\n  const isTabletOrMobile = useMediaQuery({\n    query: '(max-width: 1024px)'\n  });\n  useEffect(() => {\n    console.log(toggledRow.current);\n    toggledRow.current && toggledRow.current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [toggledRow.current]);\n\n  function handleToggling(e) {\n    onToggle(_id);\n    if (e.target === toggledRow.current) toggledRow.current = null;else toggledRow.current = e.target;\n  }\n\n  function handleWriter(w) {\n    return w.split('/')[0];\n  }\n\n  function handleDate(d) {\n    return d.slice(2, 10);\n  }\n\n  function transformContentImg(node, index) {\n    if (node.name === 'img') {\n      const src = node.attribs.src;\n      node.attribs = {\n        src: src,\n        width: '100%'\n      };\n      return convertNodeToElement(node, index, transformContentImg);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.row_container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${styles.row} ${isToggled && styles.toggled}`,\n      onClick: handleToggling,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.title,\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${styles.metadata} ${isTabletOrMobile && styles.tablet_mobile}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.writer,\n          children: handleWriter(writer)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.date,\n          children: handleDate(date)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), isToggled && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.content,\n      children: [ReactHtmlParser(content, {\n        transform: transformContentImg\n      }), fileLink && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.file_container,\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: fileLink,\n          children: fileName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BoardRow, \"jBnRqcWXcFe/6VnIRGYr3MpNt6E=\", false, function () {\n  return [useMediaQuery];\n});\n\n_c = BoardRow;\nexport default BoardRow;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardRow\");","map":{"version":3,"sources":["/Users/jeongjaeyong/Desktop/hy-noti/frontend/src/components/boardRow/boardRow.jsx"],"names":["React","useEffect","useRef","styles","ReactHtmlParser","convertNodeToElement","useMediaQuery","BoardRow","info","isToggled","onToggle","toggledRow","_id","title","writer","date","content","file","fileLink","fileName","split","pop","isTabletOrMobile","query","console","log","current","scrollIntoView","behavior","handleToggling","e","target","handleWriter","w","handleDate","d","slice","transformContentImg","node","index","name","src","attribs","width","row_container","row","toggled","metadata","tablet_mobile","transform","file_container"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport styles from './boardRow.module.css'\nimport ReactHtmlParser, { convertNodeToElement } from 'react-html-parser'\nimport { useMediaQuery } from 'react-responsive';\n\nconst BoardRow = ({info, isToggled, onToggle}) => {\n  const toggledRow = useRef(null)\n  const {_id, title, writer, date, content, file: fileLink} = info\n  const fileName = fileLink.split('/').pop()\n  const isTabletOrMobile = useMediaQuery({query: '(max-width: 1024px)'})\n\n  useEffect(() => {\n    console.log(toggledRow.current)\n    \n    toggledRow.current && toggledRow.current.scrollIntoView({\n      behavior: 'smooth',\n    })\n  }, [toggledRow.current])\n\n  function handleToggling(e) {\n    onToggle(_id)\n\n    if (e.target === toggledRow.current)\n    toggledRow.current = null\n    else\n    toggledRow.current = e.target\n    \n    \n  }\n\n  function handleWriter(w) {\n    return w.split('/')[0]\n  }\n\n  function handleDate(d) {\n    return d.slice(2, 10)\n  }\n\n  function transformContentImg(node, index) {\n    if (node.name === 'img'){\n      const src = node.attribs.src\n      node.attribs = {\n        src:src,\n        width:'100%'\n      }\n      return convertNodeToElement(node, index, transformContentImg)\n    }\n  }\n\n  return (\n    <div className={styles.row_container}>\n      <div className={`${styles.row} ${isToggled && styles.toggled}`} onClick={handleToggling}>\n        <div className={styles.title}>{title}</div>\n        <div className={`${styles.metadata} ${isTabletOrMobile && styles.tablet_mobile}`}>\n          <div className={styles.writer}>{handleWriter(writer)}</div>\n          <div className={styles.date}>{handleDate(date)}</div>\n        </div>\n      </div>\n      {\n        isToggled && \n        <div className={styles.content}>\n          {ReactHtmlParser(content, {transform: transformContentImg})}\n          {fileLink && <div className={styles.file_container}><a href={fileLink}>{fileName}</a></div>}\n        </div>\n      }\n    </div> \n  );\n}\n\nexport default BoardRow;"]},"metadata":{},"sourceType":"module"}